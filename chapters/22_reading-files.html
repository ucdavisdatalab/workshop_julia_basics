

<!DOCTYPE html>


<html lang="en-us" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>2. Reading Files &#8212; Julia Basics</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=ac02cc09edc035673794" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=ac02cc09edc035673794" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=ac02cc09edc035673794"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chapters/22_reading-files';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3. Getting Started" href="01_julia-basics.html" />
    <link rel="prev" title="1. Syntax and Features" href="21_syntax-features.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en-us"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/datalab-logo-full-color-rgb-1.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/datalab-logo-full-color-rgb-1.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="index.html">
                    Overview
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="21_syntax-features.html">1. Syntax and Features</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">2. Reading Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="01_julia-basics.html">3. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_packages.html">4. Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_file-systems.html">5. File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_data-types-structures.html">6. Data Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="06_indexing.html">7. Indexing in Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="07_special-values.html">8. Special Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="08_iteration-aggregation.html">9. Exploring Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="09_visualization.html">10. Data Visualization in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="10_if-statements.html">11. Organizing Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="11_functions.html">12. Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="12_more-data-structures.html">13. Appendix</a></li>
<li class="toctree-l1"><a class="reference internal" href="13_web-apis.html">14. Surfing the Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="14_more-iteration.html">15. Loops</a></li>
<li class="toctree-l1"><a class="reference internal" href="15_test.html">16. Test</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/ucdavisdatalab/workshop_julia_basics" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/ucdavisdatalab/workshop_julia_basics/issues/new?title=Issue%20on%20page%20%2Fchapters/22_reading-files.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/chapters/22_reading-files.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Reading Files</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#navigating-file-systems">2.1. Navigating File Systems</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-reading-a-csv-file">2.2. Example: Reading a CSV File</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-and-writing-formatted-files">2.3. Reading and Writing Formatted Files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-and-writing-text-and-bytes">2.4. Reading and Writing Text and Bytes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#inspecting-a-dataframe">2.5. Inspecting a DataFrame</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#selecting-columns">2.5.1. Selecting Columns</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <!-- Run at top level of repo. --><section class="tex2jax_ignore mathjax_ignore" id="reading-files">
<h1><span class="section-number">2. </span>Reading Files<a class="headerlink" href="#reading-files" title="Permalink to this heading">#</a></h1>
<p>Reading a data set is the first step in most analyses.</p>
<section id="navigating-file-systems">
<h2><span class="section-number">2.1. </span>Navigating File Systems<a class="headerlink" href="#navigating-file-systems" title="Permalink to this heading">#</a></h2>
<p>Julia’s <code class="docutils literal notranslate"><span class="pre">Base.Filesystem</span></code> module provides functions for working with file
systems. Here are a few that are useful for checking the working directory and
that files are where you think they are:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-left head"><p>Function</p></th>
<th class="text-left head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">pwd</span></code></p></td>
<td class="text-left"><p>Get the working directory</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">cd</span></code></p></td>
<td class="text-left"><p>Change the working directory</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">readdir</span></code></p></td>
<td class="text-left"><p>List files in a directory</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ispath</span></code></p></td>
<td class="text-left"><p>Check whether a path exists</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isfile</span></code></p></td>
<td class="text-left"><p>Check whether a path leads to a file</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isdir</span></code></p></td>
<td class="text-left"><p>Check whether a path leads to a file</p></td>
</tr>
</tbody>
</table>
<p>The Julia documentation has a <a class="reference external" href="https://docs.julialang.org/en/v1/base/file/">complete list of functions in the
<code class="docutils literal notranslate"><span class="pre">Base.Filesystem</span></code> module</a>.</p>
<!--
TODO: Add examples and have the user use `Downloads.download` to download a
file
-->
</section>
<section id="example-reading-a-csv-file">
<h2><span class="section-number">2.2. </span>Example: Reading a CSV File<a class="headerlink" href="#example-reading-a-csv-file" title="Permalink to this heading">#</a></h2>
<!--
TODO: Host the data somewhere so that folks can follow along more easily.
-->
<p>The <a class="reference external" href="https://www.bts.gov/">U.S. Bureau of Transportation Statistics</a> publishes and regularly
updates the <a class="reference external" href="https://www.transtats.bts.gov/tables.asp?qo_vq=EFD">Airline On-Time Performance Data Set</a>, which
includes departure and arrival times for all domestic flights since 1987. The
data set is distributed as a collection of comma-separated value (CSV) files,
with one for each month-year combination. You can download a subset of the data
set <span class="xref myst">here</span>.</p>
<p>Let’s try reading the data set into Julia. There’s no built-in function to read
CSV files, but the <a class="reference external" href="https://github.com/JuliaData/CSV.jl">CSV.jl</a> package provides one. The CSV format is tabular,
so let’s read the data as a data frame (a tabular data structure). In Julia,
the <a class="reference external" href="https://github.com/JuliaData/DataFrames.jl">DataFrames.jl</a> package provides data frames. Install both packages if
you haven’t already, and then load them:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-0">
Load</label><div class="sd-tab-content docutils">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="k">using</span><span class="w"> </span><span class="n">CSV</span>
<span class="k">using</span><span class="w"> </span><span class="n">DataFrames</span>
</pre></div>
</div>
</div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-1">
Install</label><div class="sd-tab-content docutils">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="k">using</span><span class="w"> </span><span class="n">Pkg</span>

<span class="n">Pkg</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&quot;CSV&quot;</span><span class="p">)</span>
<span class="n">Pkg</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&quot;DataFrames&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>You can read a CSV file with the <code class="docutils literal notranslate"><span class="pre">CSV.read</span></code> function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;data/On_Time_Reporting_Carrier_On_Time_Performance_(1987_present)_2023_1.csv&quot;</span>
<span class="n">air</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CSV</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="w"> </span><span class="n">DataFrame</span><span class="p">)</span>
<span class="n">typeof</span><span class="p">(</span><span class="n">air</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The second argument is a <strong>sink function</strong>, a function that converts raw
tabular data to a specific Julia type. The sink function determines the type of
the value <code class="docutils literal notranslate"><span class="pre">CSV.read</span></code> returns. In this case, the returned value is a
<code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference external" href="https://github.com/JuliaData/Tables.jl">Tables.jl</a> package defines a standard programming interface for working
with tabular data in Julia. The CSV.jl and DataFrames.jl packages both use this
interface, as well as <a class="reference external" href="https://github.com/JuliaData/Tables.jl/blob/main/INTEGRATIONS.md">many other Julia packages</a>.</p>
<p>Any type that satisfies the Tables.jl interface is called a <strong>source</strong>. For
example, the CSV.jl package’s <code class="docutils literal notranslate"><span class="pre">CSV.File</span></code> type is a source, although the
<code class="docutils literal notranslate"><span class="pre">CSV.read</span></code> function hides this detail. Any function that can take a source
instance as input and return a table of a specific type is called a sink. The
DataFrames.jl package’s <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> function is a sink. Coincidentally, the
<code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> type is also a source (this facilitates transformations of data
frames).</p>
<p>The CSV.jl package also provides a way to read a CSV file:</p>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CSV</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

<span class="c"># air = DataFrame(source)</span>
</pre></div>
</div>
<p>Compared to <code class="docutils literal notranslate"><span class="pre">CSV.read</span></code>, this is less efficient for reading a CSV as a data
frame: it makes a copy of the data.</p>
</div>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">first</span></code> function to get just the first few rows of a data
frame:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">first</span><span class="p">(</span><span class="n">air</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The second argument, <code class="docutils literal notranslate"><span class="pre">5</span></code>, is the number of rows to return.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">describe</span></code> function is also useful for inspecting data frames. It provides
a statistical summary of each column:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">describe</span><span class="p">(</span><span class="n">air</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can learn more about how to use data frames from the DataFrames.jl
<a class="reference external" href="https://dataframes.juliadata.org/">documentation</a> and <a class="reference external" href="https://www.ahsmart.com/assets/pages/data-wrangling-with-data-frames-jl-cheat-sheet/DataFramesCheatSheet_v1.x_rev1.pdf">cheat sheet</a>.</p>
</div>
</section>
<section id="reading-and-writing-formatted-files">
<h2><span class="section-number">2.3. </span>Reading and Writing Formatted Files<a class="headerlink" href="#reading-and-writing-formatted-files" title="Permalink to this heading">#</a></h2>
<p>Functions to read and write popular file formats are generally provided by
packages rather than built into Julia. Here are a few (find more by searching
online):</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-left head"><p>Format</p></th>
<th class="text-left head"><p>Extension</p></th>
<th class="text-left head"><p>Package</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><a class="reference external" href="https://arrow.apache.org/">Apache Arrow</a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">.arrow</span></code></p></td>
<td class="text-left"><p><a class="reference external" href="https://github.com/apache/arrow-julia">Arrow-julia.jl</a></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Delimited File</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">.csv</span></code>, <code class="docutils literal notranslate"><span class="pre">.tsv</span></code>, …</p></td>
<td class="text-left"><p><a class="reference external" href="https://github.com/JuliaData/CSV.jl">CSV.jl</a></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Fixed-width File</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">.fwf</span></code></p></td>
<td class="text-left"><p>Planned for <a class="reference external" href="https://github.com/JuliaData/CSV.jl">CSV.jl</a></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Geospatial Vector Data</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">.geojson</span></code>, <code class="docutils literal notranslate"><span class="pre">.shp</span></code>, …</p></td>
<td class="text-left"><p><a class="reference external" href="https://github.com/yeesian/ArchGDAL.jl">ArchGDAL.jl</a></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>HDF5</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">.hdf5</span></code></p></td>
<td class="text-left"><p><a class="reference external" href="https://github.com/JuliaIO/HDF5.jl">HDF5.jl</a></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>JavaScript Object Notation</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">.json</span></code></p></td>
<td class="text-left"><p><a class="reference external" href="https://github.com/JuliaIO/JSON.jl">JSON.jl</a></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><a class="reference external" href="https://parquet.apache.org/">Apache Parquet</a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">.parquet</span></code></p></td>
<td class="text-left"><p><a class="reference external" href="https://github.com/JuliaIO/Parquet.jl">Parquet.jl</a></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Geospatial Raster Data</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">.tiff</span></code>, …</p></td>
<td class="text-left"><p><a class="reference external" href="https://github.com/yeesian/ArchGDAL.jl">ArchGDAL.jl</a></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><a class="reference external" href="https://toml.io/">TOML</a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">.toml</span></code></p></td>
<td class="text-left"><p><a class="reference external" href="https://docs.julialang.org/en/v1/stdlib/TOML/">built-in</a></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Microsoft Excel</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">.xls</span></code>, <code class="docutils literal notranslate"><span class="pre">.xlsx</span></code></p></td>
<td class="text-left"><p><a class="reference external" href="https://github.com/felipenoris/XLSX.jl">XLSX.jl</a></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Extensible Markup Language</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">.xml</span></code></p></td>
<td class="text-left"><p><a class="reference external" href="https://github.com/JuliaComputing/XML.jl">XML.jl</a></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><a class="reference external" href="https://yaml.org/">YAML</a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">.yaml</span></code></p></td>
<td class="text-left"><p><a class="reference external" href="https://github.com/JuliaData/YAML.jl">YAML.jl</a></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><a class="reference external" href="https://msgpack.org/">MessagePack</a></p></td>
<td class="text-left"><p></p></td>
<td class="text-left"><p><a class="reference external" href="https://github.com/JuliaIO/MsgPack.jl">MsgPack.jl</a></p></td>
</tr>
</tbody>
</table>
<p>Often there’s more than one package with functions to read and write a specific
format. We chose the packages in the table based on popularity and signs of
active development or maintenance.</p>
</section>
<section id="reading-and-writing-text-and-bytes">
<h2><span class="section-number">2.4. </span>Reading and Writing Text and Bytes<a class="headerlink" href="#reading-and-writing-text-and-bytes" title="Permalink to this heading">#</a></h2>
<p>Sometimes you might need to read and write text or bytes directly. For example,
you might need to work with a file that has an obscure or custom format.</p>
<p>Julia’s built-in <code class="docutils literal notranslate"><span class="pre">open</span></code> function opens a file. Let’s open a file called
<code class="docutils literal notranslate"><span class="pre">hello.txt</span></code> in write mode:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">open</span><span class="p">(</span><span class="s">&quot;hello.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;w&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">print</span></code>, <code class="docutils literal notranslate"><span class="pre">println</span></code>, or <code class="docutils literal notranslate"><span class="pre">write</span></code> function to write to a file. Try
it out with a few lines:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">write</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Don&#39;t worry, be happy!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">println</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Hello world!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">print</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Print?</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The <code class="docutils literal notranslate"><span class="pre">print</span></code> and <code class="docutils literal notranslate"><span class="pre">println</span></code> functions convert objects to strings in the encoding
of the open file (set by the call to <code class="docutils literal notranslate"><span class="pre">open</span></code>; the default is UTF-8) before
output.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">write</span></code> function outputs objects as bytes. For strings, this means the
encoding is determined by the string itself rather than the file.</p>
<p>In general, use <code class="docutils literal notranslate"><span class="pre">print</span></code> and <code class="docutils literal notranslate"><span class="pre">println</span></code> to write text to files, and use <code class="docutils literal notranslate"><span class="pre">write</span></code>
to write bytes to files.</p>
</div>
<p>Make sure to use the <code class="docutils literal notranslate"><span class="pre">close</span></code> function to close files when you’re finished using
them. When writing to a file, this ensures that all of the writes are
completed.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">close</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now let’s read the file to check that the lines were written. The idiomatic way
to open a file and do something (read or write) with it is to use a <code class="docutils literal notranslate"><span class="pre">do</span></code> block.
Try running this code to read the lines from the file:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">lines</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="n">open</span><span class="p">(</span><span class="s">&quot;hello.txt&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="n">f</span>
<span class="w">        </span><span class="n">readlines</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="w">    </span><span class="k">end</span>
</pre></div>
</div>
</div>
</div>
<p>A <code class="docutils literal notranslate"><span class="pre">do</span></code> block is syntactic sugar for defining an anonymous function and passing
it as the first argument to another function. As an example, consider this call
with an anonymous function as the first argument:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">map</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>The equivalent using a <code class="docutils literal notranslate"><span class="pre">do</span></code> block is:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">map</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="n">x</span>
<span class="w">    </span><span class="n">x</span><span class="o">^</span><span class="mi">2</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Since a <code class="docutils literal notranslate"><span class="pre">do</span></code> block defines an anonymous function, variables you define inside
of the block are not visible from outside of the block.</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">open</span></code> function has a method that takes a function as its first argument.
The file is opened, the function is called on the open file, the file is
closed, and the result is returned. This approach is safer than manually
closing the file with <code class="docutils literal notranslate"><span class="pre">close</span></code>, because the <code class="docutils literal notranslate"><span class="pre">open</span></code> function ensures that the
file is always closed, even if something goes wrong in the computation.</p>
<!--
`read`
`readchomp`
-->
</section>
<section id="inspecting-a-dataframe">
<span id="inspecting-dataframe"></span><h2><span class="section-number">2.5. </span>Inspecting a DataFrame<a class="headerlink" href="#inspecting-a-dataframe" title="Permalink to this heading">#</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This section is still a work in progress.</p>
</div>
<p>Everything looks good here. To see the bottom of this data, use <code class="docutils literal notranslate"><span class="pre">last</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">last</span><span class="p">(</span><span class="n">air</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>One way to get a quick idea of what your data looks like without having to read
through all the columns and rows is by inspecting its dimensions. You can use
the <code class="docutils literal notranslate"><span class="pre">nrow</span></code> and <code class="docutils literal notranslate"><span class="pre">ncol</span></code> functions to do this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">nrow</span><span class="p">(</span><span class="n">air</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">ncol</span><span class="p">(</span><span class="n">air</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">names</span></code> function returns the names of a data frame’s columns:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">names</span><span class="p">(</span><span class="n">air</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="selecting-columns">
<span id="summarizing-columns"></span><h3><span class="section-number">2.5.1. </span>Selecting Columns<a class="headerlink" href="#selecting-columns" title="Permalink to this heading">#</a></h3>
<p>Individual columns may be selected with <strong>bracket notation</strong>. Put the name of
the column in quotes and place that inside of square brackets <code class="docutils literal notranslate"><span class="pre">[]</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>air[!, &quot;FlightDate&quot;]
</pre></div>
</div>
<p>Finally, you can assign new values to a DataFrame using the same notation as
above. Below, this code overwrites all the values in the <code class="docutils literal notranslate"><span class="pre">currency_code</span></code>
column:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">banknotes</span><span class="p">[</span><span class="s2">&quot;currency_code&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;USD&quot;</span>
<span class="n">banknotes</span><span class="p">[</span><span class="s2">&quot;currency_code&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>The next chapter will return to working with columns, showing you how to
generate new data from a DataFrame. You’ll also learn how to select rows and
subsets of the data, as well as groups of columns.</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "julia-1.9"
        },
        kernelOptions: {
            name: "julia-1.9",
            path: "./chapters"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'julia-1.9'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="21_syntax-features.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">1. </span>Syntax and Features</p>
      </div>
    </a>
    <a class="right-next"
       href="01_julia-basics.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">3. </span>Getting Started</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#navigating-file-systems">2.1. Navigating File Systems</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-reading-a-csv-file">2.2. Example: Reading a CSV File</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-and-writing-formatted-files">2.3. Reading and Writing Formatted Files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-and-writing-text-and-bytes">2.4. Reading and Writing Text and Bytes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#inspecting-a-dataframe">2.5. Inspecting a DataFrame</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#selecting-columns">2.5.1. Selecting Columns</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Derek Devnich, Ezra Morrison, Carl Stahmer, Nick Ulle
</p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">
  <img alt="CC BY-SA 4.0" src="https://img.shields.io/badge/License-CC%20BY--NC--SA%204.0-lightgrey.svg"> 
</a>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=ac02cc09edc035673794"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>